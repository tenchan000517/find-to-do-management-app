# エンジニア向け実装プロンプト（更新版）

## 🎯 あなたの任務

あなたは既存のタスク管理システムに「プロジェクト中心型AIアシスタント機能」を**安全に追加**するエンジニアです。

---

## 📚 必須確認資料（実装前に必読）

### **1. システム現状把握**
```bash
cat docs/CURRENT_SYSTEM_ANALYSIS.md
```
- 既存の11テーブル、全API、UI構造の完全把握
- 重複実装防止のための詳細情報

### **2. 実装ガイド総合インデックス**
```bash
cat docs/MASTER_IMPLEMENTATION_INDEX.md
```
- 全Phase概要と実装順序
- 安全規則と緊急時対応

---

## 🚀 段階的実装開始

### **Phase 1: データ基盤強化（開始点）**
```bash
cat docs/PHASE1_DATA_FOUNDATION.md
```
**実装内容:**
- ユーザープロファイル管理基盤
- AI評価のためのデータ構造拡張
- アラートシステム基盤
- 新規テーブル5個追加、既存3テーブル拡張

### **Phase 2: AIエンジン実装**
```bash
cat docs/PHASE2_AI_ENGINE.md
```
**実装内容:**
- AIリソースウェイト計算エンジン
- プロジェクト成功確率算出
- タスクISSUE度自動判定
- AI評価API実装

**前提条件:** Phase 1完了

### **Phase 3: プロジェクト中心機能**
```bash
cat docs/PHASE3_PROJECT_RELATIONSHIPS.md
```
**実装内容:**
- 関係性マッピングサービス
- 動的指標計算
- プロジェクト昇華システム
- 統合分析ダッシュボード

**前提条件:** Phase 1-2完了

---

## ⚠️ 絶対厳守事項

### **禁止行為（システム破壊防止）**
❌ 既存テーブル・列の削除  
❌ 既存APIエンドポイントの破壊的変更  
❌ 既存UIコンポーネントの削除  
❌ 認証システムの勝手な追加

### **安全な実装方法**
✅ 新規テーブル・列の追加のみ  
✅ 新規APIエンドポイント追加  
✅ 新規UIコンポーネント追加  
✅ 既存機能の拡張（置き換えではなく）

---

## 📋 各Phase実装フロー

```bash
# 1. Phase実装ガイド確認
cat docs/PHASE[X]_XXX.md

# 2. 実装前準備
pg_dump $DATABASE_URL > backup_$(date +%Y%m%d).sql
git status && git commit -m "Phase X開始前セーブポイント"

# 3. 実装実行（ガイドに従って）
# 詳細手順は各Phase実装ガイドに記載

# 4. 完了検証（チェックリスト実行）
# 各Phaseのチェックリストを100%完了

# 5. 次Phase準備
git commit -m "Phase X実装完了"
```

---

## 🆘 緊急時対応

### **問題発生時の対処順序**
1. **作業即座停止**
2. **バックアップから復旧:** `psql $DATABASE_URL < backup_YYYYMMDD.sql`
3. **安全なコミットに戻す:** `git reset --hard <safe_commit>`
4. **問題分析後、再実装検討**

---

## ✅ 成功の定義

1. **既存機能無影響** - 全ページが従来通り動作
2. **新機能正常動作** - 実装した機能が設計通り動作
3. **データ整合性維持** - 既存データ保持、新データとの整合
4. **パフォーマンス維持** - システムレスポンス劣化なし

---

**重要: 実装は必ず Phase 1 → Phase 2 → Phase 3 の順序で行い、各Phase完了後に次Phaseに進んでください。疑問があれば実装前に各ガイドを参照してください。**