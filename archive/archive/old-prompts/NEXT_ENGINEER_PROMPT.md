# 次のエンジニアへの引き継ぎプロンプト

## 現在の状況
UI改善作業の途中です。**Phase 0は完了**、**Phase 1を50%完了**した状態で中断しています。現在`ui-improvements-proposal`ブランチで作業中です。

## 🎯 最優先タスク: プロジェクトページのタブ切り替え完成

### 現在の状況
`/src/app/projects/page.tsx`にタブナビゲーションは追加済みですが、メインコンテンツ部分の実装が未完了です。

### 必要な作業

#### 1. プロジェクトページのメインコンテンツ置き換え
現在のフィルター＋プロジェクトグリッド部分（120行目～228行目あたり）を以下に置き換えてください：

```tsx
{/* タブコンテンツ */}
{activeTab === 'table' ? (
  <>
    {/* フィルター（テーブル表示時のみ） */}
    <div className="mb-6 flex gap-2">
      {/* 既存のフィルターボタンをそのまま維持 */}
    </div>

    {/* テーブル/カード表示切り替え */}
    {viewMode === 'table' ? (
      <ProjectsTable
        projects={filteredProjects}
        onEdit={(project) => {
          setEditingProject(project);
          setShowModal(true);
        }}
        onDelete={async (projectId) => {
          try {
            await deleteProject(projectId);
          } catch (error) {
            console.error('Failed to delete project:', error);
          }
        }}
      />
    ) : (
      {/* 既存のカード表示をそのまま維持 */}
    )}
  </>
) : (
  {/* ガントチャートタブ */}
  <GanttChart 
    tasks={tasks} 
    projects={projects} 
    users={mockUsers}
  />
)}
```

#### 2. ガントチャートページの削除
- `/src/app/gantt/page.tsx`を削除
- メニューから ガントチャート項目を削除（`/src/app/page.tsx`のmenuItems配列）

#### 3. 動作確認
- プロジェクト一覧タブでテーブル/カード表示切り替えが動作することを確認
- ガントチャートタブでガントチャートが表示されることを確認
- フィルター機能が正常に動作することを確認

## 🚀 次のフェーズ: タスク管理の4つのカンバンビュー

プロジェクトページが完了したら、`/src/app/tasks/page.tsx`で以下を実装してください：

### 実装する4つのビュー
1. **ステータス別カンバン**（既存を改良）
2. **ユーザー別カンバン**（新規）
3. **カテゴリ別カンバン**（新規）
4. **期限別カンバン**（新規）

### タブ構造の例
```tsx
const kanbanTabs = [
  { id: 'status', label: 'ステータス別', icon: '📊' },
  { id: 'user', label: 'ユーザー別', icon: '👥' },
  { id: 'category', label: 'カテゴリ別', icon: '📁' },
  { id: 'deadline', label: '期限別', icon: '⏰' },
];
```

## 📁 利用可能なコンポーネント

すでに作成済みのコンポーネントを活用してください：

- `Tabs` - タブ切り替えコンポーネント
- `ProjectsTable` - プロジェクトのテーブル表示
- `FullPageLoading` - ローディング表示
- `Header` - 共通ヘッダー（自動的に全ページに適用済み）

## 🔧 開発環境セットアップ

```bash
# 作業ブランチに切り替え
git checkout ui-improvements-proposal

# 変更内容を確認
git status
git diff main

# 開発サーバー起動
npm run dev
```

## 📋 完了確認チェックリスト

### プロジェクトページ完成時
- [ ] プロジェクト一覧タブとガントチャートタブが正常に切り替わる
- [ ] テーブル表示とカード表示の切り替えが動作する
- [ ] フィルター機能が正常に動作する
- [ ] プロジェクトの編集・削除が正常に動作する
- [ ] ガントチャートが正常に表示される
- [ ] `/src/app/gantt/page.tsx`が削除されている

### タスク管理4つのビュー完成時
- [ ] 4つのタブ（ステータス別/ユーザー別/カテゴリ別/期限別）が表示される
- [ ] 各タブでそれぞれ異なるカンバンビューが表示される
- [ ] ドラッグ&ドロップ機能が各ビューで動作する
- [ ] タスクの作成・編集・削除が全ビューで正常に動作する

## 🚨 注意事項

1. **既存機能を壊さない**: 既存のフィルター、モーダル、CRUD操作は必ず動作するよう維持してください
2. **レスポンシブ対応**: モバイル表示でも正常に動作することを確認してください
3. **エラーハンドリング**: try-catch文で適切にエラーを処理してください
4. **コンソールエラー**: ブラウザのコンソールにエラーが出ないことを確認してください

## 📞 困った時の対処法

1. **型エラー**: `@/lib/types`で定義されている型を確認してください
2. **コンポーネントの使い方**: 既存の実装を参考にしてください
3. **レイアウト問題**: Tailwind CSSのクラスを使用してください

頑張ってください！UI改善の完成まであと少しです！ 🚀